:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__orderitembuilder]]
= OrderItemBuilder





===== Namespace

`IO\Builder\Order`





.Properties
|===
|Type |Name |Description

|xref:IO/Services/CheckoutService.adoc#[`CheckoutService`]
    |checkoutService
    |
| xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
    |vatService
    |
|xref:IO/Extensions/Filters/ItemNameFilter.adoc#[`ItemNameFilter`]
    |itemNameFilter
    |
| xref:stable7@interface::Accounting.adoc#accounting_contracts_vatrepositorycontract[`VatRepositoryContract`]
    |vatRepository
    |
| xref:stable7@interface::System.adoc#system_contracts_webstorerepositorycontract[`WebstoreRepositoryContract`]
    |webstoreRepository
    |
|xref:IO/Services/CustomerService.adoc#[`CustomerService`]
    |customerService
    |
|===


===== Methods

[source%nowrap, php]
----

public __construct($checkoutService, $vatService, $itemNameFilter, $webstoreRepository, $vatRepository, $customerService):void

----







OrderItemBuilder constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:IO/Services/CheckoutService.adoc#[`CheckoutService`]
a|`$checkoutService`
|

| xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
a|`$vatService`
|

|xref:IO/Extensions/Filters/ItemNameFilter.adoc#[`ItemNameFilter`]
a|`$itemNameFilter`
|

| xref:stable7@interface::System.adoc#system_contracts_webstorerepositorycontract[`WebstoreRepositoryContract`]
a|`$webstoreRepository`
|

| xref:stable7@interface::Accounting.adoc#accounting_contracts_vatrepositorycontract[`VatRepositoryContract`]
a|`$vatRepository`
|

|xref:IO/Services/CustomerService.adoc#[`CustomerService`]
a|`$customerService`
|
|===


[source%nowrap, php]
----

public fromBasket($basket, $items):array

----







Add a basket item to the order

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Basket.adoc#basket_models_basket[`Basket`]
a|`$basket`
|

|link:http://php.net/array[array^]
a|`$items`
|
|===


[source%nowrap, php]
----

public getVatField($vat, $vatRate):int

----







Get the vat field for the given vat rate.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Accounting.adoc#accounting_models_vat[`Vat`]
a|`$vat`
|The country VAT instance.

|link:http://php.net/float[float^]
a|`$vatRate`
|The vat rate.
|===


