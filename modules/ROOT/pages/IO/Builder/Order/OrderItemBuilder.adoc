:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__orderitembuilder]]
= OrderItemBuilder





===== Namespace

`IO\Builder\Order`





.Properties
|===
|Type |Name |Description

|xref:IO/Services/CheckoutService.adoc#[`CheckoutService`]
a|`$checkoutService`
||xref:stable7@interface::Webshop.adoc#webshop_contracts_checkoutrepositorycontract[`CheckoutRepositoryContract`]
a|`$checkoutRepository`
||xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
a|`$vatService`
||xref:IO/Extensions/Filters/ItemNameFilter.adoc#[`ItemNameFilter`]
a|`$itemNameFilter`
||xref:stable7@interface::Accounting.adoc#accounting_contracts_vatrepositorycontract[`VatRepositoryContract`]
a|`$vatRepository`
||xref:stable7@interface::System.adoc#system_contracts_webstorerepositorycontract[`WebstoreRepositoryContract`]
a|`$webstoreRepository`
||xref:stable7@interface::Webshop.adoc#webshop_contracts_contactrepositorycontract[`ContactRepositoryContract`]
a|`$contactRepository`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($checkoutService, $vatService, $itemNameFilter, $webstoreRepository, $vatRepository, $contactRepository, $checkoutRepository)

----





OrderItemBuilder constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:IO/Services/CheckoutService.adoc#[`CheckoutService`]
a|`$checkoutService`
|

|xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
a|`$vatService`
|

|xref:IO/Extensions/Filters/ItemNameFilter.adoc#[`ItemNameFilter`]
a|`$itemNameFilter`
|

|xref:stable7@interface::System.adoc#system_contracts_webstorerepositorycontract[`WebstoreRepositoryContract`]
a|`$webstoreRepository`
|

|xref:stable7@interface::Accounting.adoc#accounting_contracts_vatrepositorycontract[`VatRepositoryContract`]
a|`$vatRepository`
|

|xref:stable7@interface::Webshop.adoc#webshop_contracts_contactrepositorycontract[`ContactRepositoryContract`]
a|`$contactRepository`
|

|xref:stable7@interface::Webshop.adoc#webshop_contracts_checkoutrepositorycontract[`CheckoutRepositoryContract`]
a|`$checkoutRepository`
|
|===


[source%nowrap, php, subs=+macros]
[#frombasket]
----

public fromBasket($basket, $items):link:http://php.net/array[array^]

----





Add a basket item to the order

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Basket.adoc#basket_models_basket[`Basket`]
a|`$basket`
|

|link:http://php.net/array[`array`^]
a|`$items`
|
|===


[source%nowrap, php, subs=+macros]
[#getvatfield]
----

public getVatField($vat, $vatRate):link:http://php.net/int[int^]

----





Get the vat field for the given vat rate.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Accounting.adoc#accounting_models_vat[`Vat`]
a|`$vat`
|The country VAT instance.

|link:http://php.net/float[`float`^]
a|`$vatRate`
|The vat rate.
|===


