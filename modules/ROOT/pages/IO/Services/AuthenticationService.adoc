:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__authenticationservice]]
= AuthenticationService

This service class contains various methods for authenticating customers and related tasks. +
All public functions are available in the Twig template renderer.



===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

|xref:stable7@interface::Authentication.adoc#authentication_contracts_contactauthenticationrepositorycontract[`ContactAuthenticationRepositoryContract`]
a|`$contactAuthRepository`
|The repository used for authenticating contacts|xref:stable7@interface::Webshop.adoc#webshop_contracts_sessionstoragerepositorycontract[`SessionStorageRepositoryContract`]
a|`$sessionStorageRepository`
|The repository used for storing data in the session|xref:IO/Services/CustomerService.adoc#[`CustomerService`]
a|`$customerService`
|This service is used for various tasks relating to customers|link:http://php.net/string[`string`^]
a|`$pluginNamespace`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($contactAuthRepository, $sessionStorageRepository, $customerService)

----





AuthenticationService constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Authentication.adoc#authentication_contracts_contactauthenticationrepositorycontract[`ContactAuthenticationRepositoryContract`]
a|`$contactAuthRepository`
|The repository used for authenticating contacts

|xref:stable7@interface::Webshop.adoc#webshop_contracts_sessionstoragerepositorycontract[`SessionStorageRepositoryContract`]
a|`$sessionStorageRepository`
|The repository used for storing data in the session

|xref:IO/Services/CustomerService.adoc#[`CustomerService`]
a|`$customerService`
|This service is used for various tasks relating to customers
|===


[source%nowrap, php, subs=+macros]
[#login]
----

public login($email, $password):link:http://php.net/int[int^]

----





Perform the login with email and password

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^]
a|`$email`
|Contains the customers email address

|link:http://php.net/string[`string`^]
a|`$password`
|Contains the password used for this login attempt
|===


[source%nowrap, php, subs=+macros]
[#loginwithcontactid]
----

public loginWithContactId($contactId, $password)

----





Perform the login with customer ID and password

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$contactId`
|Contains a id linked to a specific customer

|link:http://php.net/string[`string`^]
a|`$password`
|Contains the password used for this login attempt
|===


[source%nowrap, php, subs=+macros]
[#logout]
----

public logout()

----





Log out the customer

[source%nowrap, php, subs=+macros]
[#checkpassword]
----

public checkPassword($password):link:http://php.net/bool[bool^]

----





Check if a password is valid. The customer is logged in as a side effect, if password is valid

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^]
a|`$password`
|Contains the password
|===


[source%nowrap, php, subs=+macros]
[#isloggedin]
----

public isLoggedIn():link:http://php.net/bool[bool^]

----





Check if the current user is logged in.

