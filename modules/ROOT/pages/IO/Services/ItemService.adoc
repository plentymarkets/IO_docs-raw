:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__itemservice]]
= ItemService





===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_plugin_application[`Application`]
a|`$app`
||xref:stable7@interface::Item.adoc#item_contracts_itemdatalayerrepositorycontract[`ItemDataLayerRepositoryContract`]
a|`$itemRepository`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$sessionStorage`
|SessionStorageService|link:http://php.net/array[`array`^]
a|`$additionalItemSortingMap`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$cache`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($app, $itemRepository, $sessionStorage)

----





ItemService constructor.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_plugin_application[`Application`]
a|`$app`
|

|xref:stable7@interface::Item.adoc#item_contracts_itemdatalayerrepositorycontract[`ItemDataLayerRepositoryContract`]
a|`$itemRepository`
|

|xref:IO/Services/SessionStorageService.adoc#[`SessionStorageService`]
a|`$sessionStorage`
|
|===


[source%nowrap, php, subs=+macros]
[#getitem]
----

public getItem($itemId):link:http://php.net/array[array^]

----





Get an item by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|
|===


[source%nowrap, php, subs=+macros]
[#getitems]
----

public getItems($itemIds):link:http://php.net/array[array^]

----





Get a list of items with the specified item IDs

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$itemIds`
|
|===


[source%nowrap, php, subs=+macros]
[#getitemimage]
----

public getItemImage($itemId):link:http://php.net/string[string^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariation]
----

public getVariation($variationId):link:http://php.net/array[array^]

----





Get an item variation by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$variationId`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariations]
----

public getVariations($variationIds):link:http://php.net/array[array^]

----





Get a list of item variations with the specified variation IDs

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$variationIds`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariationlist]
----

public getVariationList($itemId, $withPrimary = false):link:http://php.net/array[array^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|

|link:http://php.net/bool[`bool`^]
a|`$withPrimary`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariationimage]
----

public getVariationImage($variationId, $imageAccessor = &quot;urlPreview&quot;):link:http://php.net/string[string^]

----

[WARNING]
.Deprecated! 
====

This method will not be supported in the future. Please refrain from using it as soon as possible.

====






.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$variationId`
|

|link:http://php.net/string[`string`^]
a|`$imageAccessor`
|
|===


[source%nowrap, php, subs=+macros]
[#getitemforcategory]
----

public getItemForCategory($catID, $params = [], $page = 1):link:http://php.net/array[array^]

----





Get all items for a specific category

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$catID`
|

|link:http://php.net/array[`array`^]
a|`$params`
|

|link:http://php.net/int[`int`^]
a|`$page`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariationattributemap]
----

public getVariationAttributeMap($itemId):link:http://php.net/array[array^]

----





List the attributes of an item variation

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|
|===


[source%nowrap, php, subs=+macros]
[#getvariationissalable]
----

public getVariationIsSalable($variationId):link:http://php.net/bool[bool^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$variationId`
|
|===


[source%nowrap, php, subs=+macros]
[#getattributenamemap]
----

public getAttributeNameMap($itemId):link:http://php.net/array[array^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|
|===


[source%nowrap, php, subs=+macros]
[#getitemurl]
----

public getItemURL($itemId):xref:stable7@interface::Item.adoc#item_models_record[Record]

----

[WARNING]
.Deprecated! 
====

Use UrlService instead

====




Get the item URL

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|
|===


[source%nowrap, php, subs=+macros]
[#getattributename]
----

public getAttributeName($attributeId):link:http://php.net/string[string^]

----





Get the name of an attribute by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$attributeId`
|
|===


[source%nowrap, php, subs=+macros]
[#getattributevaluename]
----

public getAttributeValueName($attributeValueId):link:http://php.net/string[string^]

----





Get the name of an attribute value by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$attributeValueId`
|
|===


[source%nowrap, php, subs=+macros]
[#getitemcrosssellinglist]
----

public getItemCrossSellingList($itemId, $crossSellingType = &quot;similar&quot;):link:http://php.net/array[array^]

----





Get a list of cross-selling items for the specified item ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$itemId`
|

|link:http://php.net/string[`string`^]
a|`$crossSellingType`
|
|===


[source%nowrap, php, subs=+macros]
[#getitemconditiontext]
----

public getItemConditionText($conditionId):link:http://php.net/string[string^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$conditionId`
|
|===


[source%nowrap, php, subs=+macros]
[#getlatestitems]
----

public getLatestItems($limit = 5, $categoryId):xref:stable7@interface::Item.adoc#item_models_recordlist[RecordList]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$limit`
|

|link:http://php.net/int[`int`^]
a|`$categoryId`
|
|===


[source%nowrap, php, subs=+macros]
[#searchitems]
----

public searchItems($searchString, $params = [], $page = 1):link:http://php.net/array[array^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^]
a|`$searchString`
|

|link:http://php.net/array[`array`^]
a|`$params`
|

|link:http://php.net/int[`int`^]
a|`$page`
|
|===


[source%nowrap, php, subs=+macros]
[#getadditionalitemsorting]
----

public getAdditionalItemSorting()

----







[source%nowrap, php, subs=+macros]
[#addadditionalitemsorting]
----

public addAdditionalItemSorting($key, $translationKey)

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^]
a|`$key`
|

|link:http://php.net/string[`string`^]
a|`$translationKey`
|
|===


[source%nowrap, php, subs=+macros]
[#frommemorycache]
----

public fromMemoryCache()

----







[source%nowrap, php, subs=+macros]
[#resetmemorycache]
----

public resetMemoryCache($key = null)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$key`
|
|===


