:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__basketservice]]
= BasketService





===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

|xref:stable7@interface::Basket.adoc#basket_contracts_basketitemrepositorycontract[`BasketItemRepositoryContract`]
a|`$basketItemRepository`
||xref:stable7@interface::Basket.adoc#basket_contracts_basketrepositorycontract[`BasketRepositoryContract`]
a|`$basketRepository`
||xref:stable7@interface::Frontend.adoc#frontend_contracts_checkout[`Checkout`]
a|`$checkout`
||xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
a|`$vatService`
||xref:IO/Services/CustomerService.adoc#[`CustomerService`]
a|`$customerService`
||xref:IO/Services/CouponService.adoc#[`CouponService`]
a|`$couponService`
||xref:IO/Services/WebstoreConfigurationService.adoc#[`WebstoreConfigurationService`]
a|`$webstoreConfigurationService`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$basketItems`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$template`
||link:http://php.net/string[`string`^]
a|`$pluginNamespace`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($basketItemRepository, $checkout, $vatService, $customerService, $basketRepository, $vatInitService, $couponService, $webstoreConfigurationService)

----





BasketService constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Basket.adoc#basket_contracts_basketitemrepositorycontract[`BasketItemRepositoryContract`]
a|`$basketItemRepository`
|

|xref:stable7@interface::Frontend.adoc#frontend_contracts_checkout[`Checkout`]
a|`$checkout`
|

|xref:stable7@interface::Frontend.adoc#frontend_services_vatservice[`VatService`]
a|`$vatService`
|

|xref:IO/Services/CustomerService.adoc#[`CustomerService`]
a|`$customerService`
|

|xref:stable7@interface::Basket.adoc#basket_contracts_basketrepositorycontract[`BasketRepositoryContract`]
a|`$basketRepository`
|

|xref:stable7@interface::Accounting.adoc#accounting_contracts_vatinitcontract[`VatInitContract`]
a|`$vatInitService`
|

|xref:IO/Services/CouponService.adoc#[`CouponService`]
a|`$couponService`
|

|xref:IO/Services/WebstoreConfigurationService.adoc#[`WebstoreConfigurationService`]
a|`$webstoreConfigurationService`
|
|===


[source%nowrap, php, subs=+macros]
[#settemplate]
----

public setTemplate($template)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$template`
|
|===


[source%nowrap, php, subs=+macros]
[#getbasketfortemplate]
----

public getBasketForTemplate()

----







[source%nowrap, php, subs=+macros]
[#getbasket]
----

public getBasket():xref:stable7@interface::Basket.adoc#basket_models_basket[Basket]

----





Return the basket as an array

[source%nowrap, php, subs=+macros]
[#gettotalvats]
----

public getTotalVats():link:http://php.net/array[array^]

----







[source%nowrap, php, subs=+macros]
[#getbasketquantity]
----

public getBasketQuantity()

----







[source%nowrap, php, subs=+macros]
[#getbasketitems]
----

public getBasketItems():link:http://php.net/array[array^]

----





List the basket items

[source%nowrap, php, subs=+macros]
[#getbasketitemsfororder]
----

public getBasketItemsForOrder():link:http://php.net/array[array^]

----





List the basket items for order

[source%nowrap, php, subs=+macros]
[#getbasketitemsfortemplate]
----

public getBasketItemsForTemplate()

----







[source%nowrap, php, subs=+macros]
[#checkbasketitemslang]
----

public checkBasketItemsLang($template = &quot;&quot;)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$template`
|
|===


[source%nowrap, php, subs=+macros]
[#getbasketitem]
----

public getBasketItem($basketItemId, $appendVariation = true):link:http://php.net/array[array^]

----





Get a basket item

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^] \| xref:stable7@interface::Basket.adoc#basket_models_basketitem[`BasketItem`]
a|`$basketItemId`
|

|link:http://php.net/bool[`bool`^]
a|`$appendVariation`
|
|===


[source%nowrap, php, subs=+macros]
[#addbasketitem]
----

public addBasketItem($data):link:http://php.net/array[array^]

----





Add an item to the basket or update the basket

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$data`
|
|===


[source%nowrap, php, subs=+macros]
[#updatebasketitem]
----

public updateBasketItem($basketItemId, $data):link:http://php.net/array[array^]

----





Update a basket item

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$basketItemId`
|

|link:http://php.net/array[`array`^]
a|`$data`
|
|===


[source%nowrap, php, subs=+macros]
[#deletebasketitem]
----

public deleteBasketItem($basketItemId)

----





Delete an item from the basket

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$basketItemId`
|
|===


[source%nowrap, php, subs=+macros]
[#findexistingonebydata]
----

public findExistingOneByData($data):xref:stable7@interface::Basket.adoc#basket_models_basketitem[BasketItem]

----





Check whether the item is already in the basket

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$data`
|
|===


[source%nowrap, php, subs=+macros]
[#resetbasket]
----

public resetBasket()

----







[source%nowrap, php, subs=+macros]
[#setbillingaddressid]
----

public setBillingAddressId($billingAddressId)

----





Set the billing address id

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$billingAddressId`
|
|===


[source%nowrap, php, subs=+macros]
[#getbillingaddressid]
----

public getBillingAddressId():link:http://php.net/int[int^]

----





Return the billing address id

[source%nowrap, php, subs=+macros]
[#setdeliveryaddressid]
----

public setDeliveryAddressId($deliveryAddressId)

----





Set the delivery address id

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$deliveryAddressId`
|
|===


[source%nowrap, php, subs=+macros]
[#getdeliveryaddressid]
----

public getDeliveryAddressId():link:http://php.net/int[int^]

----





Return the delivery address id

[source%nowrap, php, subs=+macros]
[#getmaxvatvalue]
----

public getMaxVatValue():link:http://php.net/float[float^]

----





Get the maximum vat value in basket.

