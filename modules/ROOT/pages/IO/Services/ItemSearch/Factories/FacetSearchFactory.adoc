:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__facetsearchfactory]]
= FacetSearchFactory

Concrete factory to build facet searches.



===== Namespace

`IO\Services\ItemSearch\Factories`

===== Extends
xref:IO/Services/ItemSearch/Factories/VariationSearchFactory.adoc#[`VariationSearchFactory`]



.Constants
|===
|Type |Name |Value |Description

|link:http://php.net/string[string^]
a|`SORTING_ORDER_ASC`
|'asc'
|
|link:http://php.net/string[string^]
a|`SORTING_ORDER_DESC`
|'desc'
|
|link:http://php.net/string[string^]
a|`INHERIT_AGGREGATIONS`
|'aggregations'
|
|link:http://php.net/string[string^]
a|`INHERIT_COLLAPSE`
|'collapse'
|
|link:http://php.net/string[string^]
a|`INHERIT_EXTENSIONS`
|'extensions'
|
|link:http://php.net/string[string^]
a|`INHERIT_FILTERS`
|'filters'
|
|link:http://php.net/string[string^]
a|`INHERIT_MUTATORS`
|'mutators'
|
|link:http://php.net/string[string^]
a|`INHERIT_PAGINATION`
|'pagination'
|
|link:http://php.net/string[string^]
a|`INHERIT_RESULT_FIELDS`
|'resultFields'
|
|link:http://php.net/string[string^]
a|`INHERIT_SORTING`
|'sorting'
|
|===


.Properties
|===
|Type |Name |Description

|         xref:5.0.0@plugin-::.adoc#[``]
a|`$facetValues`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#create]
----

public static create($facets):xref:IO/Services/ItemSearch/Factories/FacetSearchFactory.adoc#[FacetSearchFactory]

----





Create a factory instance depending on a given set of facet values.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^] \| link:http://php.net/array[`array`^]
a|`$facets`
|List of active facet values. If string is given, it will be exploded by ',' to a list of values.
|===


[source%nowrap, php, subs=+macros]
[#preparesearch]
----

public prepareSearch($source):xref:stable7@interface::Cloud.adoc#cloud_document_documentsearch[DocumentSearch]

----





Build facet search classes

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Cloud.adoc#cloud_source_includesource[`IncludeSource`]
a|`$source`
|
|===


[source%nowrap, php, subs=+macros]
[#withminimumcount]
----

public withMinimumCount():xref:IO/Services/ItemSearch/Factories.adoc#[Factories]

----





Register extension to filter facets by minimum hit count.

