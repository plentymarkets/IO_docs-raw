:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__categoryservice]]
= CategoryService





===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

|xref:stable7@interface::Category.adoc#category_contracts_categoryrepositorycontract[`CategoryRepositoryContract`]
a|`$categoryRepository`
||xref:IO/Services/WebstoreConfigurationService.adoc#[`WebstoreConfigurationService`]
a|`$webstoreConfig`
||xref:IO/Services/SessionStorageService.adoc#[`SessionStorageService`]
a|`$sessionStorageService`
||xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$currentCategory`
||link:http://php.net/array[`array`^]
a|`$currentCategoryTree`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$authGuard`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$currentItem`
||link:http://php.net/int[`int`^]
a|`$webstoreId`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$cache`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($category)

----





CategoryService constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Category.adoc#category_contracts_categoryrepositorycontract[`CategoryRepositoryContract`]
a|`$category`
|
|===


[source%nowrap, php, subs=+macros]
[#setcurrentcategoryid]
----

public setCurrentCategoryID($catID)

----





Set the current category by ID.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$catID`
|The id of the current category
|===


[source%nowrap, php, subs=+macros]
[#setcurrentcategory]
----

public setCurrentCategory($cat)

----





Set the current category by ID.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$cat`
|The current category
|===


[source%nowrap, php, subs=+macros]
[#getcurrentcategory]
----

public getCurrentCategory():xref:stable7@interface::Category.adoc#category_models_category[Category]

----







[source%nowrap, php, subs=+macros]
[#get]
----

public get($catID, $lang = null):xref:stable7@interface::Category.adoc#category_models_category[Category]

----





Get a category by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$catID`
|The category ID

|link:http://php.net/string[`string`^]
a|`$lang`
|The language to get the category
|===


[source%nowrap, php, subs=+macros]
[#getforplentyid]
----

public getForPlentyId()

----







[source%nowrap, php, subs=+macros]
[#getcurrentcategorychildren]
----

public getCurrentCategoryChildren()

----







[source%nowrap, php, subs=+macros]
[#geturl]
----

public getURL($category, $lang = null, $):link:http://php.net/string[string^]

----





Return the URL for a given category ID.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$category`
|the category to get the URL for

|link:http://php.net/string[`string`^]
a|`$lang`
|the language to get the URL for

|link:http://php.net/int[`int`^]
a|`$`
||null $webstoreId
|===


[source%nowrap, php, subs=+macros]
[#geturlbyid]
----

public getURLById()

----







[source%nowrap, php, subs=+macros]
[#iscurrent]
----

public isCurrent($category):link:http://php.net/bool[bool^]

----





Check whether a category is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/mixed[`mixed`^]
a|`$category`
|The category to check
|===


[source%nowrap, php, subs=+macros]
[#isopen]
----

public isOpen($category):link:http://php.net/bool[bool^]

----





Check whether any child of a category is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/mixed[`mixed`^]
a|`$category`
|The category to check
|===


[source%nowrap, php, subs=+macros]
[#isactive]
----

public isActive($category = null):link:http://php.net/bool[bool^]

----





Check whether a category or any of its children is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/mixed[`mixed`^]
a|`$category`
|The category to check
|===


[source%nowrap, php, subs=+macros]
[#getitems]
----

public getItems($category = null, $params = [], $page = 1): xref:stable7@interface::Miscellaneous.adoc#miscellaneous_models_paginatedresult[PaginatedResult]

----







.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$category`
|

|link:http://php.net/array[`array`^]
a|`$params`
|

|link:http://php.net/int[`int`^]
a|`$page`
|
|===


[source%nowrap, php, subs=+macros]
[#getnavigationtree]
----

public getNavigationTree($type = [], $lang = null, $maxLevel = 2, $customerClassId):link:http://php.net/array[array^]

----





Return the sitemap tree as an array

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^] \| link:http://php.net/array[`array`^]
a|`$type`
|Only return categories of given types

|link:http://php.net/string[`string`^]
a|`$lang`
|The language to get sitemap tree for

|link:http://php.net/int[`int`^]
a|`$maxLevel`
|The deepest category level to load

|link:http://php.net/int[`int`^]
a|`$customerClassId`
|The customer class id to get tree
|===


[source%nowrap, php, subs=+macros]
[#getpartialtree]
----

public getPartialTree()

----







[source%nowrap, php, subs=+macros]
[#getnavigationlist]
----

public getNavigationList($type = [], $lang = null):link:http://php.net/array[array^]

----





Return the sitemap list as an array

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^] \| link:http://php.net/array[`array`^]
a|`$type`
|Only return categories of given type

|link:http://php.net/string[`string`^]
a|`$lang`
|The language to get sitemap list for
|===


[source%nowrap, php, subs=+macros]
[#gethierarchy]
----

public getHierarchy($catID, $bottomUp = false, $filterCategories = false):link:http://php.net/array[array^]

----





Returns a list of all parent categories including given category

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$catID`
|The category Id to get the parents for or 0 to use current category

|link:http://php.net/bool[`bool`^]
a|`$bottomUp`
|Set true to order result from bottom (deepest category) to top (= level 1)

|link:http://php.net/bool[`bool`^]
a|`$filterCategories`
|Filter categories
|===


[source%nowrap, php, subs=+macros]
[#isvisibleforwebstore]
----

public isVisibleForWebstore()

----







[source%nowrap, php, subs=+macros]
[#setcurrentitem]
----

public setCurrentItem($item)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$item`
|
|===


[source%nowrap, php, subs=+macros]
[#getcurrentitem]
----

public getCurrentItem()

----







[source%nowrap, php, subs=+macros]
[#ishidden]
----

public isHidden($id)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$id`
|
|===


[source%nowrap, php, subs=+macros]
[#frommemorycache]
----

public fromMemoryCache()

----







[source%nowrap, php, subs=+macros]
[#resetmemorycache]
----

public resetMemoryCache($key = null)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$key`
|
|===


