:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__customerservice]]
= CustomerService





===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

|xref:stable7@interface::Account.adoc#account_contracts_contactaccountrepositorycontract[`ContactAccountRepositoryContract`]
a|`$accountRepository`
||xref:stable7@interface::Account.adoc#account_contracts_contactrepositorycontract[`ContactRepositoryContract`]
a|`$contactRepository`
||xref:stable7@interface::Account.adoc#account_contracts_contactaddressrepositorycontract[`ContactAddressRepositoryContract`]
a|`$contactAddressRepository`
||xref:stable7@interface::Account.adoc#account_contracts_addressrepositorycontract[`AddressRepositoryContract`]
a|`$addressRepository`
||xref:stable7@interface::Account.adoc#account_contracts_contactclassrepositorycontract[`ContactClassRepositoryContract`]
a|`$contactClassRepository`
||xref:IO/Services/SessionStorageService.adoc#[`SessionStorageService`]
a|`$sessionStorage`
||         xref:5.0.0@plugin-::.adoc#[``]
a|`$cache`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($accountRepository, $contactRepository, $contactAddressRepository, $addressRepository, $contactClassRepository, $sessionStorage)

----





CustomerService constructor.

.*Parameters*
|===
|Type |Name |Description
|xref:stable7@interface::Account.adoc#account_contracts_contactaccountrepositorycontract[`ContactAccountRepositoryContract`]
a|`$accountRepository`
|

|xref:stable7@interface::Account.adoc#account_contracts_contactrepositorycontract[`ContactRepositoryContract`]
a|`$contactRepository`
|

|xref:stable7@interface::Account.adoc#account_contracts_contactaddressrepositorycontract[`ContactAddressRepositoryContract`]
a|`$contactAddressRepository`
|

|xref:stable7@interface::Account.adoc#account_contracts_addressrepositorycontract[`AddressRepositoryContract`]
a|`$addressRepository`
|

|xref:stable7@interface::Account.adoc#account_contracts_contactclassrepositorycontract[`ContactClassRepositoryContract`]
a|`$contactClassRepository`
|

|xref:IO/Services/IO/Services/SessionStorageService.adoc#[`SessionStorageService`]
a|`$sessionStorage`
|
|===


[source%nowrap, php, subs=+macros]
[#getcontactid]
----

public getContactId():link:http://php.net/int[int^]

----





Get the ID of the current contact from the session

[source%nowrap, php, subs=+macros]
[#getcontactclassdata]
----

public getContactClassData($contactClassId):link:http://php.net/array[array^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$contactClassId`
|
|===


[source%nowrap, php, subs=+macros]
[#shownetprices]
----

public showNetPrices():link:http://php.net/bool[bool^]

----







[source%nowrap, php, subs=+macros]
[#shownetpricesbycontactid]
----

public showNetPricesByContactId($contactId):link:http://php.net/bool[bool^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$contactId`
|
|===


[source%nowrap, php, subs=+macros]
[#getcontactclassminimumorderquantity]
----

public getContactClassMinimumOrderQuantity():link:http://php.net/int[int^]

----







[source%nowrap, php, subs=+macros]
[#registercustomer]
----

public registerCustomer($contactData, $billingAddressData = [], $deliveryAddressData = []):xref:stable7@interface::Account.adoc#account_models_contact[Contact]

----





Create a contact with addresses if specified

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$contactData`
|

|link:http://php.net/array[`array`^]
a|`$billingAddressData`
|

|link:http://php.net/array[`array`^]
a|`$deliveryAddressData`
|
|===


[source%nowrap, php, subs=+macros]
[#createaccount]
----

public createAccount($accountData):xref:stable7@interface::Account.adoc#account_models_account[Account]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$accountData`
|
|===


[source%nowrap, php, subs=+macros]
[#createcontact]
----

public createContact($contactData):xref:stable7@interface::Account.adoc#account_models_contact[Contact] \| link:http://php.net/array[array^]

----





Create a new contact

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$contactData`
|
|===


[source%nowrap, php, subs=+macros]
[#getcontact]
----

public getContact():xref:stable7@interface::Account.adoc#account_models_contact[Contact]

----





Find the current contact by ID

[source%nowrap, php, subs=+macros]
[#getcontactclassid]
----

public getContactClassId():link:http://php.net/int[int^]

----







[source%nowrap, php, subs=+macros]
[#updatecontact]
----

public updateContact($contactData):xref:stable7@interface::Account.adoc#account_models_contact[Contact]

----





Update a contact

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$contactData`
|
|===


[source%nowrap, php, subs=+macros]
[#updatepassword]
----

public updatePassword($newPassword, $contactId, $hash = &quot;&quot;):link:http://php.net/mixed[mixed^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/string[`string`^]
a|`$newPassword`
|

|link:http://php.net/int[`int`^]
a|`$contactId`
|

|link:http://php.net/string[`string`^]
a|`$hash`
|
|===


[source%nowrap, php, subs=+macros]
[#getaddresses]
----

public getAddresses($typeId = null):link:http://php.net/array[array^] \| xref:IO/Services/Illuminate/Database/Eloquent/Collection.adoc#[Collection]

----





List the addresses of a contact

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$typeId`
|
|===


[source%nowrap, php, subs=+macros]
[#getaddress]
----

public getAddress($addressId, $typeId):xref:stable7@interface::Account.adoc#account_models_address[Address]

----





Get an address by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$addressId`
|

|link:http://php.net/int[`int`^]
a|`$typeId`
|
|===


[source%nowrap, php, subs=+macros]
[#createaddress]
----

public createAddress($addressData, $typeId):xref:stable7@interface::Account.adoc#account_models_address[Address]

----





Create an address with the specified address type

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$addressData`
|

|link:http://php.net/int[`int`^]
a|`$typeId`
|
|===


[source%nowrap, php, subs=+macros]
[#updateaddress]
----

public updateAddress($addressId, $addressData, $typeId):xref:stable7@interface::Account.adoc#account_models_address[Address]

----





Update an address

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$addressId`
|

|link:http://php.net/array[`array`^]
a|`$addressData`
|

|link:http://php.net/int[`int`^]
a|`$typeId`
|
|===


[source%nowrap, php, subs=+macros]
[#deleteaddress]
----

public deleteAddress($addressId, $typeId)

----





Delete an address

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$addressId`
|

|link:http://php.net/int[`int`^]
a|`$typeId`
|
|===


[source%nowrap, php, subs=+macros]
[#getorders]
----

public getOrders($page = 1, $items = 10, $filters = []):link:http://php.net/array[array^] \| xref:IO/Services/Plenty/Repositories/Models/PaginatedResult.adoc#[PaginatedResult]

----





Get a list of orders for the current contact

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$page`
|

|link:http://php.net/int[`int`^]
a|`$items`
|

|link:http://php.net/array[`array`^]
a|`$filters`
|
|===


[source%nowrap, php, subs=+macros]
[#hasreturns]
----

public hasReturns():link:http://php.net/bool[bool^]

----







[source%nowrap, php, subs=+macros]
[#getreturns]
----

public getReturns($page = 1, $items = 10, $filters = [], $wrapped = true):xref:IO/Services/Plenty/Repositories/Models/PaginatedResult.adoc#[PaginatedResult]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$page`
|

|link:http://php.net/int[`int`^]
a|`$items`
|

|link:http://php.net/array[`array`^]
a|`$filters`
|

|link:http://php.net/bool[`bool`^]
a|`$wrapped`
|
|===


[source%nowrap, php, subs=+macros]
[#getlatestorder]
----

public getLatestOrder():xref:IO/Models/LocalizedOrder.adoc#[LocalizedOrder]

----





Get the last order created by the current contact

[source%nowrap, php, subs=+macros]
[#resetguestaddresses]
----

public resetGuestAddresses()

----







[source%nowrap, php, subs=+macros]
[#getemail]
----

public getEmail():link:http://php.net/string[string^]

----







[source%nowrap, php, subs=+macros]
[#getcontactnumber]
----

public getContactNumber($contactId):link:http://php.net/string[string^]

----







.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[`int`^]
a|`$contactId`
|
|===


[source%nowrap, php, subs=+macros]
[#deleteguestaddresses]
----

public deleteGuestAddresses()

----







[source%nowrap, php, subs=+macros]
[#frommemorycache]
----

public fromMemoryCache()

----







[source%nowrap, php, subs=+macros]
[#resetmemorycache]
----

public resetMemoryCache($key = null)

----







.*Parameters*
|===
|Type |Name |Description
|         xref:5.0.0@plugin-::.adoc#[``]
a|`$key`
|
|===


